# üìò **Fenwick Tree (Binary Indexed Tree)**

### –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö –Ω–∞ Java (–ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è —Ä–∞–±–æ—Ç–∞)

---

## üìå **–û–ø–∏—Å–∞–Ω–∏–µ**

–í –ø—Ä–æ–µ–∫—Ç–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –¥–µ—Ä–µ–≤–æ –§–µ–Ω–≤–∏–∫–∞ (Fenwick Tree / Binary Indexed Tree), –ø–æ–∑–≤–æ–ª—è—é—â–µ–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å —Å –ø—Ä–µ—Ñ–∏–∫—Å–Ω—ã–º–∏ —Å—É–º–º–∞–º–∏.

–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏:

* **build(int[] arr)** ‚Äî –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø–æ –º–∞—Å—Å–∏–≤—É
* **update(int index, int delta)** ‚Äî –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–∞
* **prefixSum(int index)** ‚Äî —Å—É–º–º–∞ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –Ω–∞ –¥–∏–∞–ø–∞–∑–æ–Ω–µ `[0; index]`
* **rangeSum(int left, int right)** ‚Äî —Å—É–º–º–∞ –Ω–∞ –æ—Ç—Ä–µ–∑–∫–µ `[left; right]`

–†–µ–∞–ª–∏–∑–∞—Ü–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ **—Ç–æ–ª—å–∫–æ –Ω–∞ –º–∞—Å—Å–∏–≤–∞—Ö**, –±–µ–∑ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∫–æ–ª–ª–µ–∫—Ü–∏–π Java.

---

## üìÇ **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞**

```
src/
 ‚îú‚îÄ‚îÄ Main.java
 ‚îú‚îÄ‚îÄ SourceArray.java
 ‚îî‚îÄ‚îÄ FenwickStructure.java
.gitignore
README.md
```

---

## üß† **–û—Å–Ω–æ–≤–Ω–∞—è –∏–¥–µ—è –¥–µ—Ä–µ–≤–∞ –§–µ–Ω–≤–∏–∫–∞**

–ö–∞–∂–¥—ã–π —ç–ª–µ–º–µ–Ω—Ç `tree[i]` —Ö—Ä–∞–Ω–∏—Ç —Å—É–º–º—É –Ω–µ–∫–æ—Ç–æ—Ä–æ–≥–æ –ø–æ–¥–æ—Ç—Ä–µ–∑–∫–∞ –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –º–∞—Å—Å–∏–≤–∞, –¥–ª–∏–Ω–∞ –∫–æ—Ç–æ—Ä–æ–≥–æ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è **–º–ª–∞–¥—à–∏–º –∑–Ω–∞—á–∞—â–∏–º –±–∏—Ç–æ–º** –∏–Ω–¥–µ–∫—Å–∞.


## ‚öôÔ∏è **–°–ª–æ–∂–Ω–æ—Å—Ç—å –æ–ø–µ—Ä–∞—Ü–∏–π**

| –û–ø–µ—Ä–∞—Ü–∏—è  | –û–ø–∏—Å–∞–Ω–∏–µ                       | –°–ª–æ–∂–Ω–æ—Å—Ç—å  |
| --------- | ------------------------------ | ---------- |
| build     | –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –º–∞—Å—Å–∏–≤–∞ –¥–µ—Ä–µ–≤–∞      | O(n log n) |
| update    | –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ–¥–Ω–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞     | O(log n)   |
| prefixSum | –°—É–º–º–∞ –æ—Ç 0 –¥–æ index            | O(log n)   |
| rangeSum  | –°—É–º–º–∞ –Ω–∞ –¥–∏–∞–ø–∞–∑–æ–Ω–µ left..right | O(log n)   |

---

## üìê **–ê–ª–≥–æ—Ä–∏—Ç–º prefixSum(index)**

```java
int result = 0;
while (index >= 0) {
    result += tree[index];
    index = (index & (index + 1)) - 1;
}
return result;
```

–ò–Ω–¥–µ–∫—Å —Å–¥–≤–∏–≥–∞–µ—Ç—Å—è –∫ —Ä–æ–¥–∏—Ç–µ–ª—é, –∫–∞–∂–¥—ã–π —Ä–∞–∑ —É–¥–∞–ª—è—è –º–ª–∞–¥—à–∏–π –±–∏—Ç.

---

## üîß **–ê–ª–≥–æ—Ä–∏—Ç–º update(index, delta)**

```java
while (index < length) {
    tree[index] += delta;
    index = index | (index + 1);
}
```

–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ä–∞–∑–Ω–æ—Å–∏—Ç—Å—è –ø–æ –≤—Å–µ–º —Å–≤—è–∑–∞–Ω–Ω—ã–º —É–∑–ª–∞–º.

---

## üìù **–ü—Ä–∏–º–µ—Ä**

–ü—É—Å—Ç—å –≤—Ö–æ–¥–Ω–æ–π –º–∞—Å—Å–∏–≤:

```
1 2 3 4 5
```

–¢–æ–≥–¥–∞ –º–∞—Å—Å–∏–≤ Fenwick Tree –±—É–¥–µ—Ç:

```
index: 0 1 2 3 4
value: 1 3 3 10 5
```

---

## ‚úî **–°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º**

* [x] –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –≤—Å–µ—Ö 4 —Ñ—É–Ω–∫—Ü–∏–π Fenwick Tree
* [x] –¢–æ–ª—å–∫–æ –º–∞—Å—Å–∏–≤—ã (–±–µ–∑ –∫–æ–ª–ª–µ–∫—Ü–∏–π)
* [x] –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤–≤–æ–¥–æ–≤
* [x] –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –∞–ª–≥–æ—Ä–∏—Ç–º–∞ 
* [x] –ö–æ–¥ —Ä–∞–∑–¥–µ–ª—ë–Ω –Ω–∞ –ª–æ–≥–∏—á–µ—Å–∫–∏–µ –∫–ª–∞—Å—Å—ã
* [x] –ö–æ–Ω—Å–æ–ª—å–Ω–æ–µ –º–µ–Ω—é
* [x] –°–ª–æ–∂–Ω–æ—Å—Ç—å –∞–ª–≥–æ—Ä–∏—Ç–º–∞ –æ–ø–∏—Å–∞–Ω–∞

---

## üèÅ –í—ã–≤–æ–¥

–†–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ–ª–Ω–æ—Å—Ç—å—é –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–æ–º—É –∞–ª–≥–æ—Ä–∏—Ç–º—É –¥–µ—Ä–µ–≤–∞ –§–µ–Ω–≤–∏–∫–∞ –∏ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–æ–π —Ä–∞–±–æ—Ç—ã. –ö–æ–¥ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è –∑–∞—â–∏—Ç—ã –∏ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏.

